---
import { Icon } from 'astro-icon/components';
import { t, soundUrl } from '../i18n/utils';

interface Props {
  lang: string;
}

const { lang } = Astro.props;

const completeSoundUrl = soundUrl('default', 'complete.wav');
const ttsSoundUrl = soundUrl('metro-voice', 'complete.wav');
---

<section class="min-h-[calc(100vh-4rem)] flex items-center overflow-x-clip">
  <div class="max-w-6xl mx-auto px-6 md:px-8 lg:px-12 py-12 md:py-24 lg:py-32 w-full grid grid-cols-1 md:grid-cols-[3fr_2fr] items-center gap-12 lg:gap-16">

    <!-- 좌측: 텍스트 콘텐츠 -->
    <div class="flex flex-col items-center md:items-start text-center md:text-left gap-6 order-2 md:order-1">

      <!-- 로고 타이포그래피 -->
      <div class="reveal" style="transition-delay: 0ms;">
        <h1 class="font-gmarket font-bold text-(length:--text-hero) leading-tight text-meok select-none whitespace-nowrap">
          {t('hero.logo', lang)}
        </h1>
      </div>

      <!-- 서브타이틀 -->
      <div class="reveal" style="transition-delay: 100ms;">
        <p class="text-(length:--text-h2) text-onggi font-medium max-w-xl text-balance">
          {t('hero.subtitle', lang)}
        </p>
      </div>

      <!-- 설명 -->
      <div class="reveal" style="transition-delay: 200ms;">
        <p class="text-(length:--text-body) text-onggi max-w-2xl leading-relaxed text-balance break-keep">
          {t('hero.description', lang)}
        </p>
      </div>

      <!-- CTA 버튼 -->
      <div class="reveal flex flex-wrap items-center justify-center md:justify-start gap-4 mt-2" style="transition-delay: 300ms;">
        <!-- Primary: 시작하기 -->
        <a
          href="#quickstart"
          class="inline-flex items-center gap-2 px-7 py-3.5 rounded-full bg-hobak text-hanji font-semibold text-base hover:bg-hobak-deep hover:shadow-md active:scale-95 transition-all duration-200"
        >
          {t('hero.cta', lang)}
          <Icon name="ph:arrow-right-bold" class="w-4 h-4" aria-hidden="true" />
        </a>

        <!-- Secondary: 소리 들어보기 -->
        <a
          href="#gallery"
          class="inline-flex items-center gap-2 px-7 py-3.5 rounded-full border-2 border-changho text-onggi font-semibold text-base hover:border-hobak hover:text-hobak hover:bg-hobak-soft/30 active:scale-95 transition-all duration-200"
        >
          <Icon name="ph:speaker-high-bold" class="w-4 h-4" aria-hidden="true" />
          {t('hero.listen', lang)}
        </a>
      </div>

    </div>

    <!-- 우측: 토스트 알림 쇼케이스 -->
    <div class="flex flex-col items-center md:items-end gap-3 order-1 md:order-2 w-full md:w-auto">

      <!-- Toast 1: 사운드 알림 -->
      <button
        class="hero-toast reveal group w-full max-w-80 text-left bg-misaek border border-changho rounded-xl shadow-lg px-5 py-4"
        data-sound-url={completeSoundUrl}
        data-accent-color="var(--color-hobak)"
        style="transition-delay: 400ms;"
        type="button"
      >
        <div class="flex items-center justify-between mb-1.5">
          <div class="flex items-center gap-2">
            <Icon name="ph:bell-ringing-fill" class="w-5 h-5 text-hobak shrink-0" aria-hidden="true" />
            <span class="font-gmarket text-sm text-meok">{t('hero.logo', lang)}</span>
          </div>
          <span class="hero-toast-icon flex items-center justify-center w-6 h-6">
            <span class="hero-toast-play">
              <Icon name="ph:play-circle-fill" class="w-6 h-6 text-onggi/50 group-hover:text-hobak transition-colors" aria-hidden="true" />
            </span>
            <span class="hero-toast-waves items-center gap-0.5 h-4" style="display:none;">
              <span class="wave-bar w-0.5 bg-current rounded-full" style="animation-delay:0s;height:4px;"></span>
              <span class="wave-bar w-0.5 bg-current rounded-full" style="animation-delay:0.15s;height:4px;"></span>
              <span class="wave-bar w-0.5 bg-current rounded-full" style="animation-delay:0.3s;height:4px;"></span>
              <span class="wave-bar w-0.5 bg-current rounded-full" style="animation-delay:0.45s;height:4px;"></span>
            </span>
          </span>
        </div>
        <p class="text-sm text-onggi leading-snug">{t('hero.notificationPreview', lang)}</p>
      </button>

      <!-- Toast 2: TTS 보이스 -->
      <button
        class="hero-toast reveal group w-full max-w-80 text-left bg-misaek border border-changho rounded-xl shadow-lg px-5 py-4"
        data-sound-url={ttsSoundUrl}
        data-accent-color="#8B5CF6"
        style="transition-delay: 550ms;"
        type="button"
      >
        <div class="flex items-center justify-between mb-1.5">
          <div class="flex items-center gap-2">
            <Icon name="ph:microphone-fill" class="w-5 h-5 text-[#8B5CF6] shrink-0" aria-hidden="true" />
            <span class="font-gmarket text-sm text-meok">{t('hero.ttsLabel', lang)}</span>
          </div>
          <span class="hero-toast-icon flex items-center justify-center w-6 h-6">
            <span class="hero-toast-play">
              <Icon name="ph:play-circle-fill" class="w-6 h-6 text-onggi/50 group-hover:text-[#8B5CF6] transition-colors" aria-hidden="true" />
            </span>
            <span class="hero-toast-waves items-center gap-0.5 h-4" style="display:none;">
              <span class="wave-bar w-0.5 bg-current rounded-full" style="animation-delay:0s;height:4px;"></span>
              <span class="wave-bar w-0.5 bg-current rounded-full" style="animation-delay:0.15s;height:4px;"></span>
              <span class="wave-bar w-0.5 bg-current rounded-full" style="animation-delay:0.3s;height:4px;"></span>
              <span class="wave-bar w-0.5 bg-current rounded-full" style="animation-delay:0.45s;height:4px;"></span>
            </span>
          </span>
        </div>
        <p class="text-sm text-onggi leading-snug">{t('hero.ttsQuote', lang)}</p>
      </button>

    </div>

  </div>
</section>
