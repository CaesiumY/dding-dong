---
name: dd-test
description: "Test dding-dong notifications interactively. Play each event one by one, replay or skip. μ•λ¦Ό μΈν„°λ™ν‹°λΈ ν…μ¤νΈ. Use when the user says 'μ•λ¦Ό ν…μ¤νΈ', 'test notification', 'test sound', 'μ†λ¦¬ ν…μ¤νΈ'."
allowed-tools: [Bash, Read, Edit, AskUserQuestion]
---

# dding-dong μΈν„°λ™ν‹°λΈ μ•λ¦Ό ν…μ¤νΈ

μ΄λ²¤νΈλ³„λ΅ ν•λ‚μ”© μ¬μƒν•κ³ , μ‚¬μ©μκ°€ λ‹¤μ‹ λ“£κΈ°/λ‹¤μ/κ±΄λ„λ›°κΈ°λ¥Ό μ„ νƒν•  μ μλ” μΈν„°λ™ν‹°λΈ ν…μ¤νΈ.

## 1λ‹¨κ³„: ν© μ •λ³΄ ν™•μΈ

ν„μ¬ ν™μ„± μ‚¬μ΄λ“ ν©μ„ ν™•μΈν•©λ‹λ‹¤:

```bash
node "${CLAUDE_PLUGIN_ROOT}/scripts/pack-wizard.mjs" discover --cwd "${PROJECT_DIR}"
```

μ¶λ ¥μ—μ„ `[active]`λ΅ ν‘μ‹λ ν© μ΄λ¦„κ³Ό κ²½λ΅λ¥Ό νμ•…ν•©λ‹λ‹¤.

κ·Έλ¦¬κ³  ν™μ„± ν©μ΄ TTS ν©μΈμ§€ ν™•μΈν•©λ‹λ‹¤:

```bash
# ν™μ„± ν© κ²½λ΅μ— .tts-config.jsonμ΄ μμΌλ©΄ TTS ν©
ls "${PROJECT_DIR}/.dding-dong/packs/"*"/.tts-config.json" 2>/dev/null || echo "NOT_TTS"
```

TTS ν© μ—¬λ¶€λ¥Ό κΈ°μ–µν•΄λ‘μ„Έμ” (μ΄ν›„ "μ¬μƒμ„±" μ„ νƒμ§€ μ κ³µ μ—¬λ¶€μ— μ‚¬μ©).

TTS ν©μΈ κ²½μ°, ν™μ„± ν© κ²½λ΅μ `.tts-config.json`μ„ Readλ΅ μ½μ–΄μ„ λ‹¤μμ„ νμ•…ν•©λ‹λ‹¤:
- `voice_mode`: `"clone"` λλ” `"custom"`
- `model`: μ‚¬μ© λ¨λΈλ…
- `ref_audio`, `ref_text`: μ°Έμ΅° μμ„± (clone λ¨λ“)
- `speaker`: ν™”μλ… (custom λ¨λ“)
- `events.<μ΄λ²¤νΈλ…>.text`: κ° μ΄λ²¤νΈμ ν„μ¬ ν…μ¤νΈ
- `events.<μ΄λ²¤νΈλ…>.instruct`: κ°μ •/μ¤νƒ€μΌ μ§€μ‹ (custom λ¨λ“, μ„ νƒ)
- `events.<μ΄λ²¤νΈλ…>.output_file`: μ¶λ ¥ νμΌλ…

μ΄ μ •λ³΄λ¥Ό μ΄ν›„ "μ¬μƒμ„±" μ„λΈν”λ΅μ°μ—μ„ μ‚¬μ©ν•©λ‹λ‹¤.

## 2λ‹¨κ³„: μ΄λ²¤νΈλ³„ μΈν„°λ™ν‹°λΈ λ£¨ν”„

ν…μ¤νΈν•  μ΄λ²¤νΈ λ©λ΅:
- μΈμκ°€ μμΌλ©΄ (`${ARGUMENTS}`): ν•΄λ‹Ή μ΄λ²¤νΈλ§ ν…μ¤νΈ
- μΈμκ°€ μ—†μΌλ©΄: `task.complete`, `task.error`, `input.required`, `session.start`, `session.end` μμ„λ€λ΅

**κ° μ΄λ²¤νΈλ§λ‹¤ λ‹¤μμ„ λ°λ³µν•©λ‹λ‹¤:**

### 2-1. μ΄λ²¤νΈ μ¬μƒ

```bash
node "${CLAUDE_PLUGIN_ROOT}/scripts/notify.mjs" test <μ΄λ²¤νΈλ…>
```

μ¬μƒ ν›„ μ‚¬μ©μμ—κ² κ²°κ³Όλ¥Ό μ•λ‚΄ν•©λ‹λ‹¤:
- "π”” **<μ΄λ²¤νΈλ…>** μ¬μƒ μ™„λ£"

### 2-2. μ‚¬μ©μ μ„ νƒ (AskUserQuestion)

AskUserQuestionμΌλ΅ λ‹¤μ μ„ νƒμ§€λ¥Ό μ κ³µν•©λ‹λ‹¤:

**μ΄λ²¤νΈκ°€ μ—¬λ¬ κ°μΈ κ²½μ°:**
- π”„ λ‹¤μ‹ λ“£κΈ° β€” κ°™μ€ μ΄λ²¤νΈλ¥Ό λ‹¤μ‹ μ¬μƒ
- β­οΈ λ‹¤μ β€” λ‹¤μ μ΄λ²¤νΈλ΅ μ΄λ™
- βΉοΈ κ±΄λ„λ›°κΈ° β€” λ‚λ¨Έμ§€ μ΄λ²¤νΈλ¥Ό κ±΄λ„λ›°κ³  μΆ…λ£

**μ΄λ²¤νΈκ°€ 1κ°λΏμΈ κ²½μ°:**
- π”„ λ‹¤μ‹ λ“£κΈ° β€” κ°™μ€ μ΄λ²¤νΈλ¥Ό λ‹¤μ‹ μ¬μƒ
- β… μ™„λ£ β€” ν…μ¤νΈ μΆ…λ£

**TTS ν©μ΄ ν™μ„±ν™”λ κ²½μ° μ¶”κ°€ μ„ νƒμ§€:**
- π” μ¬μƒμ„± β€” TTS μμ„±μ„ λ‹¤μ‹ μƒμ„±ν•κ³  μ‹¶μ„ λ•

### 2-3. μ„ νƒμ— λ”°λ¥Έ μ²λ¦¬

- **λ‹¤μ‹ λ“£κΈ°**: 2-1λ΅ λμ•„κ°€ κ°™μ€ μ΄λ²¤νΈλ¥Ό λ‹¤μ‹ μ¬μƒ
- **λ‹¤μ/μ™„λ£**: λ‹¤μ μ΄λ²¤νΈλ΅ μ§„ν–‰ (λλ” μΆ…λ£)
- **κ±΄λ„λ›°κΈ°**: λ£¨ν”„λ¥Ό μ¦‰μ‹ μΆ…λ£ν•κ³  3λ‹¨κ³„λ΅ μ΄λ™
- **μ¬μƒμ„±**: μ•„λ "2-4. μΈλΌμΈ μ¬μƒμ„±" μ„λΈν”λ΅μ°λ¥Ό μ‹¤ν–‰

### 2-4. μΈλΌμΈ μ¬μƒμ„± (TTS ν© μ „μ©)

"μ¬μƒμ„±"μ„ μ„ νƒν•λ©΄, ν•΄λ‹Ή μ΄λ²¤νΈμ TTS μμ„±μ„ μ¦‰μ‹ λ‹¤μ‹ μƒμ„±ν•©λ‹λ‹¤.

#### 2-4-1. TTS ν™κ²½ ν™•μΈ

```bash
node "${CLAUDE_PLUGIN_ROOT}/skills/dd-tts-pack/scripts/check-env.mjs"
```

μ¶λ ¥ JSONμ `all_ok`λ¥Ό ν™•μΈν•©λ‹λ‹¤.
- `all_ok: false` β†’ "TTS ν™κ²½μ΄ μ¤€λΉ„λμ§€ μ•μ•μµλ‹λ‹¤. `/dding-dong:dd-tts-pack`μΌλ΅ ν™κ²½μ„ μ„¤μ •ν•΄μ£Όμ„Έμ”." μ•λ‚΄ ν›„ 2-2 μ„ νƒμ§€λ΅ λμ•„κ° (ν…μ¤νΈλ” κ³„μ†)
- `all_ok: true` β†’ `python_path`λ¥Ό κΈ°μ–µν•κ³  λ‹¤μ λ‹¨κ³„λ΅ μ§„ν–‰

#### 2-4-2. ν…μ¤νΈ λ³€κ²½ μ—¬λ¶€

ν„μ¬ μ΄λ²¤νΈμ ν…μ¤νΈλ¥Ό λ³΄μ—¬μ£Όκ³  AskUserQuestionμΌλ΅ μ§λ¬Έν•©λ‹λ‹¤:

> ν„μ¬ ν…μ¤νΈ: "**<.tts-config.jsonμ ν•΄λ‹Ή μ΄λ²¤νΈ text>**"

μ„ νƒμ§€:
- κ·Έλ€λ΅ μ¬μƒμ„± β€” ν„μ¬ ν…μ¤νΈλ΅ λ°”λ΅ μ¬μƒμ„±
- ν…μ¤νΈ λ³€κ²½ β€” μƒ ν…μ¤νΈλ¥Ό μ…λ ¥λ°›μ

"ν…μ¤νΈ λ³€κ²½" μ„ νƒ μ‹:
1. AskUserQuestionμΌλ΅ μƒ ν…μ¤νΈλ¥Ό μ…λ ¥λ°›μµλ‹λ‹¤ (Other μ…λ ¥ μ λ„)
2. `.tts-config.json`μ ν•΄λ‹Ή μ΄λ²¤νΈ `text` ν•„λ“λ¥Ό Editλ΅ μ—…λ°μ΄νΈν•©λ‹λ‹¤

#### 2-4-3. generate-tts.py μ‹¤ν–‰

1λ‹¨κ³„μ—μ„ μ½μ€ `.tts-config.json` μ„¤μ •κ³Ό 2-4-1μ `python_path`λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

**clone λ¨λ“:**
```bash
<python_path> "${CLAUDE_PLUGIN_ROOT}/skills/dd-tts-pack/scripts/generate-tts.py" \
  --voice-mode clone --mode preview \
  --model "<model>" \
  --ref-audio "<ν™μ„±ν©κ²½λ΅>/<ref_audio>" \
  --ref-text "<ref_text>" \
  --text "<μ΄λ²¤νΈ ν…μ¤νΈ>" \
  --language "<language>" \
  --output "<ν™μ„±ν©κ²½λ΅>/<output_file>"
```

**custom λ¨λ“:**
```bash
<python_path> "${CLAUDE_PLUGIN_ROOT}/skills/dd-tts-pack/scripts/generate-tts.py" \
  --voice-mode custom --mode preview \
  --model "<model>" \
  --speaker "<speaker>" \
  --text "<μ΄λ²¤νΈ ν…μ¤νΈ>" \
  --instruct "<instruct>" \
  --language "<language>" \
  --output "<ν™μ„±ν©κ²½λ΅>/<output_file>"
```

μ£Όμ: `--instruct`λ” `.tts-config.json`μ— `instruct` ν•„λ“κ°€ μμ„ λ•λ§ ν¬ν•¨ν•©λ‹λ‹¤.

μƒμ„± κ²°κ³Ό JSONμ `ok` ν•„λ“λ¥Ό ν™•μΈν•©λ‹λ‹¤:
- `ok: true` β†’ "β… μ¬μƒμ„± μ™„λ£" μ•λ‚΄ ν›„ 2-4-4λ΅ μ§„ν–‰
- `ok: false` β†’ μ—λ¬ λ©”μ‹μ§€λ¥Ό ν‘μ‹ν•κ³  2-2 μ„ νƒμ§€λ΅ λμ•„κ°

#### 2-4-4. μ¬μƒ λ° λ£¨ν”„ λ³µκ·€

μ¬μƒμ„±λ μμ„±μ„ μ¦‰μ‹ μ¬μƒν•©λ‹λ‹¤:

```bash
node "${CLAUDE_PLUGIN_ROOT}/scripts/notify.mjs" test <μ΄λ²¤νΈλ…>
```

μ¬μƒ ν›„ "π”” **<μ΄λ²¤νΈλ…>** μ¬μƒμ„± ν›„ μ¬μƒ μ™„λ£" μ•λ‚΄μ™€ ν•¨κ» 2-2 μ„ νƒμ§€λ΅ λμ•„κ°‘λ‹λ‹¤.

## 3λ‹¨κ³„: μ™„λ£ μ•λ‚΄

λ¨λ“  μ΄λ²¤νΈ ν…μ¤νΈκ°€ λλ‚λ©΄ λ‹¤μμ„ μ•λ‚΄ν•©λ‹λ‹¤:

```
β… μ•λ¦Ό ν…μ¤νΈ μ™„λ£!

κ΄€λ ¨ λ…λ Ήμ–΄:
  /dding-dong:dd-sounds   β€” μ‚¬μ΄λ“ ν© λ³€κ²½
  /dding-dong:dd-config   β€” μ•λ¦Ό μ„¤μ • λ³€κ²½
  /dding-dong:dd-doctor   β€” μ•λ¦Ό λ¬Έμ  μ§„λ‹¨
```

## κ²°κ³Ό μ•λ‚΄ μ°Έκ³ 

**μ†λ¦¬/μ•λ¦Όμ΄ μ¬μƒλμ§€ μ•λ” κ²½μ°:**
- μ„¤μ •μ—μ„ λΉ„ν™μ„±ν™”λμ–΄ μμ„ μ μμµλ‹λ‹¤. `/dding-dong:dd-config show`λ΅ ν™•μΈν•μ„Έμ”.
- μ‚¬μ΄λ“ ν”λ μ΄μ–΄/μ•λ¦Ό λ„κµ¬κ°€ μ„¤μΉλμ§€ μ•μ•μ„ μ μμµλ‹λ‹¤. `/dding-dong:dd-doctor`λ΅ μ§„λ‹¨ν•μ„Έμ”.
